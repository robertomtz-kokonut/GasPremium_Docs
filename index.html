
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Gas Premium API</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;javascript&quot;,&quot;csharp&quot;,&quot;java&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo.png" class="logo" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="javascript">Request</a>
              <a href="#" data-language-name="csharp">Success Response</a>
              <a href="#" data-language-name="java">Error Response</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#gas-premium-api-reference" class="toc-h1 toc-link" data-title="Gas Premium API Reference">Gas Premium API Reference</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#api-base-url" class="toc-h2 toc-link" data-title="API BASE URL">API BASE URL</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#app-enpoints" class="toc-h1 toc-link" data-title="APP-ENPOINTS">APP-ENPOINTS</a>
          </li>
          <li>
            <a href="#usuarios" class="toc-h1 toc-link" data-title="Usuarios">Usuarios</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#registrar-un-nuevo-usuario" class="toc-h2 toc-link" data-title="Registrar un nuevo usuario">Registrar un nuevo usuario</a>
                  </li>
                  <li>
                    <a href="#inicio-de-sesion" class="toc-h2 toc-link" data-title="Inicio de sesión">Inicio de sesión</a>
                  </li>
                  <li>
                    <a href="#obtener-perfil" class="toc-h2 toc-link" data-title="Obtener perfil">Obtener perfil</a>
                  </li>
                  <li>
                    <a href="#actualizar-perfil" class="toc-h2 toc-link" data-title="Actualizar perfil">Actualizar perfil</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#metodos-de-pago" class="toc-h1 toc-link" data-title="Métodos de Pago">Métodos de Pago</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#registrar-un-nuevo-metodo-de-pago" class="toc-h2 toc-link" data-title="Registrar un nuevo método de pago">Registrar un nuevo método de pago</a>
                  </li>
                  <li>
                    <a href="#obtener-los-metodos-de-pago-de-un-usuario" class="toc-h2 toc-link" data-title="Obtener los métodos de pago de un usuario">Obtener los métodos de pago de un usuario</a>
                  </li>
              </ul>
          </li>
      </ul>
        <ul class="toc-footer">
            <li><a href='http://kokonutstudio.com/'>Kokonut Studio</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='gas-premium-api-reference'>Gas Premium API Reference</h1>
<p>Link al código fuente: <a href="https://github.com/KokonutStudioRepository/GasPremium_Backend">GasPremium_Backend</a>.</p>
<h3 id='api-base-url'>API BASE URL</h3>
<table><thead>
<tr>
<th>Variable</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>{{url}}</td>
<td>https://gasapi.kokonutstudio.com/api</td>
</tr>
</tbody></table>

<aside class="notice">
Si la respuesta de los servicios son llevadas a cabo satisfactoriamente se devuelve como Success <code>1</code> y si no, se devuelve <code>0</code>.
</aside>
<h1 id='app-enpoints'>APP-ENPOINTS</h1>
<p>Servicios expuestos para consumo interno de aplicaciones móviles.</p>
<h1 id='usuarios'>Usuarios</h1><h2 id='registrar-un-nuevo-usuario'>Registrar un nuevo usuario</h2>
<blockquote>
<p>Ejemplo:</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="c1">// Registro con correo electrónico y contraseña</span>
<span class="p">{</span>
    <span class="s2">"name"</span><span class="p">:</span> <span class="s2">"Developer"</span><span class="p">,</span>
    <span class="s2">"last_name"</span><span class="p">:</span> <span class="s2">"Kokonut Studio"</span><span class="p">,</span>
    <span class="s2">"email"</span><span class="p">:</span> <span class="s2">"developer@kokonutstudio.com"</span><span class="p">,</span>
    <span class="s2">"password"</span><span class="p">:</span> <span class="s2">"123qwe"</span><span class="p">,</span>
    <span class="s2">"phone"</span><span class="p">:</span> <span class="s2">"5522222222"</span>
<span class="p">}</span>
<span class="c1">// Registro con Facebook Token</span>
<span class="p">{</span>
    <span class="s2">"name"</span><span class="p">:</span> <span class="s2">"Developer"</span><span class="p">,</span>
    <span class="s2">"last_name"</span><span class="p">:</span> <span class="s2">"Kokonut Studio"</span><span class="p">,</span>
    <span class="s2">"email"</span><span class="p">:</span> <span class="s2">"developer@kokonutstudio.com"</span><span class="p">,</span>
    <span class="s2">"fbuid"</span><span class="p">:</span> <span class="s2">"eyJ0eXAiOi...cRgHhBjwU"</span>
<span class="p">}</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="p">{</span>
  <span class="s">"success"</span><span class="p">:</span> <span class="m">1</span><span class="p">,</span>
  <span class="s">"message"</span><span class="p">:</span> <span class="s">"Usuario registrado correctamente."</span><span class="p">,</span>
  <span class="s">"data"</span><span class="p">:</span> <span class="k">null</span>
<span class="p">}</span>
</code></pre><pre class="highlight java tab-java"><code><span class="c1">// Error por falta de parámetros</span>
<span class="o">{</span>
  <span class="s">"success"</span><span class="o">:</span> <span class="mi">0</span><span class="o">,</span>
  <span class="s">"message"</span><span class="o">:</span> <span class="s">"Hace falta enviar información."</span><span class="o">,</span>
  <span class="s">"data"</span><span class="o">:</span> <span class="kc">null</span>
<span class="o">}</span>
<span class="c1">// Error por duplicidad de correo electrónico</span>
<span class="o">{</span>
  <span class="s">"success"</span><span class="o">:</span> <span class="mi">0</span><span class="o">,</span>
  <span class="s">"message"</span><span class="o">:</span> <span class="s">"Correo electrónico previamente registrado."</span><span class="o">,</span>
  <span class="s">"data"</span><span class="o">:</span> <span class="kc">null</span>
<span class="o">}</span>
<span class="c1">// Error por duplicidad del token asociado con Facebook</span>
<span class="o">{</span>
  <span class="s">"success"</span><span class="o">:</span> <span class="mi">0</span><span class="o">,</span>
  <span class="s">"message"</span><span class="o">:</span> <span class="s">"Usuario Facebook registrado previamente."</span><span class="o">,</span>
  <span class="s">"data"</span><span class="o">:</span> <span class="kc">null</span>
<span class="o">}</span>
</code></pre>
<p>Registra a un usuario con su correo electrónico y su contraseña ó con Token de acceso Facebook.</p>

<table><thead>
<tr>
<th>HTTP Request</th>
<th>Name Endpoint</th>
<th>Endpoint</th>
</tr>
</thead><tbody>
<tr>
<td>POST</td>
<td>REGISTER</td>
<td>{{url}}/register</td>
</tr>
</tbody></table>
<h3 id='parametros'>Parámetros</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Descripción</th>
<th>Type</th>
<th>Obligación de envío</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>Nombre del usuario</td>
<td>String</td>
<td>Siempre</td>
</tr>
<tr>
<td>last_name</td>
<td>Apellidos del usuario</td>
<td>String</td>
<td>Siempre</td>
</tr>
<tr>
<td>username</td>
<td>Correo electrónico del usuario</td>
<td>String</td>
<td>Siempre</td>
</tr>
<tr>
<td>password</td>
<td>Contraseña de acceso del usuario</td>
<td>String</td>
<td>Solo si es registro con correo y contraseña</td>
</tr>
<tr>
<td>phone</td>
<td>Teléfono del usuario</td>
<td>String</td>
<td>Opcional</td>
</tr>
<tr>
<td>fbuid</td>
<td>Token de acceso Facebook</td>
<td>String</td>
<td>Solo si es registro con Facebook</td>
</tr>
</tbody></table>
<h2 id='inicio-de-sesion'>Inicio de sesión</h2>
<blockquote>
<p>Ejemplo:</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="c1">// Inicio de sesión con correo electrónico y contraseña</span>
<span class="p">{</span>
    <span class="s2">"username"</span><span class="p">:</span> <span class="s2">"developer@kokonutstudio.com"</span><span class="p">,</span>
    <span class="s2">"password"</span><span class="p">:</span> <span class="s2">"123qwe"</span>
<span class="p">}</span>
<span class="c1">// Inicio de sesión con Facebook Token</span>
<span class="p">{</span>
  <span class="s2">"fbuid"</span><span class="p">:</span> <span class="s2">"0000000000...123456789"</span>
<span class="p">}</span>  
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="c1">// Inicio de sesión con correo electrónico y contraseña</span>
<span class="p">{</span>
  <span class="s">"token_type"</span><span class="p">:</span> <span class="s">"Bearer"</span><span class="p">,</span>
  <span class="s">"expires_in"</span><span class="p">:</span> <span class="m">604800</span><span class="p">,</span>
  <span class="s">"access_token"</span><span class="p">:</span> <span class="s">"eyJ0eXAiOi...cRgHhBjwU"</span><span class="p">,</span>
  <span class="s">"refresh_token"</span><span class="p">:</span> <span class="s">"def50a8e4...a6e90dcfe"</span>
<span class="p">}</span>
<span class="c1">// Inicio de sesión con Facebook Token</span>
<span class="p">{</span>
  <span class="s">"token_type"</span><span class="p">:</span> <span class="s">"Bearer"</span><span class="p">,</span>
  <span class="s">"access_token"</span><span class="p">:</span> <span class="s">"eyJ0eX...juDzGI2AQz88N_tcc"</span><span class="p">,</span>
  <span class="s">"refresh_token"</span><span class="p">:</span> <span class="s">""</span>
<span class="p">}</span>
</code></pre><pre class="highlight java tab-java"><code><span class="c1">// Error por falta de parámetros</span>
<span class="o">{</span>
  <span class="s">"success"</span><span class="o">:</span> <span class="mi">0</span><span class="o">,</span>
  <span class="s">"message"</span><span class="o">:</span> <span class="s">"Hubo un error al autenticar el usuario."</span><span class="o">,</span>
  <span class="s">"data"</span><span class="o">:</span> <span class="kc">null</span>
<span class="o">}</span>
<span class="c1">// Error en la validación de credenciales por correo electrónico y contraseña</span>
<span class="o">{</span>
  <span class="s">"success"</span><span class="o">:</span> <span class="mi">0</span><span class="o">,</span>
  <span class="s">"message"</span><span class="o">:</span> <span class="s">"Usuario o contraseña no valida."</span><span class="o">,</span>
  <span class="s">"data"</span><span class="o">:</span> <span class="kc">null</span>
<span class="o">}</span>
<span class="c1">// Error en la validación de credenciales por Facebook Token</span>
<span class="o">{</span>
  <span class="s">"success"</span><span class="o">:</span> <span class="mi">0</span><span class="o">,</span>
  <span class="s">"message"</span><span class="o">:</span> <span class="s">"El usuario Facebook no existe."</span><span class="o">,</span>
  <span class="s">"data"</span><span class="o">:</span> <span class="kc">null</span>
<span class="o">}</span>
</code></pre>
<p>Autentica a un usuario con su correo electrónico y su contraseña ó con Token de acceso Facebook.</p>
<h3 id='body'>Body</h3>
<table><thead>
<tr>
<th>HTTP Request</th>
<th>Name Endpoint</th>
<th>Endpoint</th>
</tr>
</thead><tbody>
<tr>
<td>POST</td>
<td>LOGIN</td>
<td>{{url}}/login</td>
</tr>
</tbody></table>
<h3 id='parametros-2'>Parámetros</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Descripción</th>
<th>Type</th>
<th>Obligación de envío</th>
</tr>
</thead><tbody>
<tr>
<td>username</td>
<td>Correo electrónico del usuario</td>
<td>String</td>
<td>Solo si es login con correo y contraseña</td>
</tr>
<tr>
<td>password</td>
<td>Contraseña de acceso del usuario</td>
<td>String</td>
<td>Solo si es login con correo y contraseña</td>
</tr>
<tr>
<td>fbuid</td>
<td>Token de acceso Facebook</td>
<td>String</td>
<td>Solo si es login con Facebook</td>
</tr>
</tbody></table>
<h2 id='obtener-perfil'>Obtener perfil</h2>
<blockquote>
<p>Ejemplo:</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="cm">/* NO BODY */</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="p">{</span>
  <span class="s">"success"</span><span class="p">:</span> <span class="m">1</span><span class="p">,</span>
  <span class="s">"message"</span><span class="p">:</span> <span class="k">null</span><span class="p">,</span>
  <span class="s">"data"</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="s">"id"</span><span class="p">:</span> <span class="m">12</span><span class="p">,</span>
      <span class="s">"name"</span><span class="p">:</span> <span class="s">"Jason"</span><span class="p">,</span>
      <span class="s">"phone"</span><span class="p">:</span> <span class="s">"5598054918"</span><span class="p">,</span>
      <span class="s">"last_name"</span><span class="p">:</span> <span class="s">"Garcia"</span><span class="p">,</span>
      <span class="s">"email"</span><span class="p">:</span> <span class="s">"email_1@qa.com"</span><span class="p">,</span>
      <span class="s">"fbuid"</span><span class="p">:</span> <span class="k">null</span><span class="p">,</span>
      <span class="s">"address"</span><span class="p">:</span> <span class="k">null</span><span class="p">,</span>
      <span class="s">"image"</span><span class="p">:</span> <span class="s">""</span><span class="p">,</span>
      <span class="s">"firebase_id"</span><span class="p">:</span> <span class="k">null</span><span class="p">,</span>
      <span class="s">"conekta_id"</span><span class="p">:</span> <span class="k">null</span><span class="p">,</span>
      <span class="s">"user_type_id"</span><span class="p">:</span> <span class="m">2</span><span class="p">,</span>
      <span class="s">"created_at"</span><span class="p">:</span> <span class="s">"2019-05-23 15:55:17"</span><span class="p">,</span>
      <span class="s">"updated_at"</span><span class="p">:</span> <span class="s">"2019-05-23 15:55:17"</span>
      <span class="p">}</span>
      <span class="p">]</span>
<span class="p">}</span>
</code></pre><pre class="highlight java tab-java"><code><span class="c1">// Error por AccessToken incorrecto</span>
<span class="o">{</span>
  <span class="s">"success"</span><span class="o">:</span> <span class="mi">0</span><span class="o">,</span>
  <span class="s">"message"</span><span class="o">:</span> <span class="s">"Unauthenticated"</span><span class="o">,</span>
  <span class="s">"data"</span><span class="o">:</span> <span class="o">[]</span>
<span class="o">}</span>
</code></pre>
<p>Obtiene el perfil del usuario al que está asociado el Access Token </p>
<h3 id='body-2'>Body</h3>
<table><thead>
<tr>
<th>HTTP Request</th>
<th>Name Endpoint</th>
<th>Endpoint</th>
</tr>
</thead><tbody>
<tr>
<td>GET</td>
<td>GET_PROFILE</td>
<td>{{url}}/profile</td>
</tr>
</tbody></table>
<h3 id='header'>Header</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Descripción</th>
<th>Type</th>
<th>Obligación de envío</th>
</tr>
</thead><tbody>
<tr>
<td>Autorization</td>
<td>AccessToken obtenido al iniciar sesión</td>
<td>Bearer</td>
<td>Siempre</td>
</tr>
</tbody></table>
<h2 id='actualizar-perfil'>Actualizar perfil</h2>
<blockquote>
<p>Ejemplo:</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="s2">"name"</span><span class="p">:</span> <span class="s2">"Developer"</span><span class="p">,</span>
    <span class="s2">"last_name"</span><span class="p">:</span> <span class="s2">"Kokonut Studio"</span><span class="p">,</span>
    <span class="s2">"phone"</span><span class="p">:</span> <span class="s2">"5522222222"</span>
<span class="p">}</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="p">{</span>
  <span class="s">"success"</span><span class="p">:</span> <span class="m">1</span><span class="p">,</span>
  <span class="s">"message"</span><span class="p">:</span> <span class="s">"Actualización de perfil correcta."</span><span class="p">,</span>
  <span class="s">"data"</span><span class="p">:</span> <span class="k">null</span>
<span class="p">}</span>
</code></pre><pre class="highlight java tab-java"><code><span class="c1">// Error por AccessToken incorrecto</span>
<span class="o">{</span>
  <span class="s">"success"</span><span class="o">:</span> <span class="mi">0</span><span class="o">,</span>
  <span class="s">"message"</span><span class="o">:</span> <span class="s">"Unauthenticated"</span><span class="o">,</span>
  <span class="s">"data"</span><span class="o">:</span> <span class="o">[]</span>
<span class="o">}</span>
</code></pre>
<p>Actualiza el perfil del usuario al que está asociado el Access Token </p>
<h3 id='body-3'>Body</h3>
<table><thead>
<tr>
<th>HTTP Request</th>
<th>Name Endpoint</th>
<th>Endpoint</th>
</tr>
</thead><tbody>
<tr>
<td>PUT</td>
<td>UPDATE_PROFILE</td>
<td>{{url}}/user/update</td>
</tr>
</tbody></table>
<h3 id='header-2'>Header</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Descripción</th>
<th>Type</th>
<th>Obligación de envío</th>
</tr>
</thead><tbody>
<tr>
<td>Autorization</td>
<td>AccessToken obtenido al iniciar sesión</td>
<td>Bearer</td>
<td>Siempre</td>
</tr>
</tbody></table>
<h3 id='parametros-3'>Parámetros</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Descripción</th>
<th>Type</th>
<th>Obligación de envío</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>Nombre del usuario</td>
<td>String</td>
<td>Opcional</td>
</tr>
<tr>
<td>last_name</td>
<td>Apellidos del usuario</td>
<td>String</td>
<td>Opcional</td>
</tr>
<tr>
<td>phone</td>
<td>Teléfono del usuario</td>
<td>String</td>
<td>Opcional</td>
</tr>
</tbody></table>
<h1 id='metodos-de-pago'>Métodos de Pago</h1><h2 id='registrar-un-nuevo-metodo-de-pago'>Registrar un nuevo método de pago</h2>
<blockquote>
<p>Ejemplo:</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="s2">"token_id"</span><span class="p">:</span> <span class="s2">"tok_test_mastercard_5100"</span>
<span class="p">}</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="p">{</span>
  <span class="s">"success"</span><span class="p">:</span> <span class="m">1</span><span class="p">,</span>
  <span class="s">"message"</span><span class="p">:</span> <span class="s">"Metodo de pago asociado correctamente."</span><span class="p">,</span>
  <span class="s">"data"</span><span class="p">:</span> <span class="k">null</span>
<span class="p">}</span>
</code></pre><pre class="highlight java tab-java"><code><span class="o">{</span>
  <span class="s">"success"</span><span class="o">:</span> <span class="mi">0</span><span class="o">,</span>
  <span class="s">"message"</span><span class="o">:</span> <span class="s">"Hubo un error al registar el metodo de pago del usuario."</span><span class="o">,</span>
  <span class="s">"data"</span><span class="o">:</span> <span class="kc">null</span>
<span class="o">}</span>
</code></pre>
<p>Registra y asocia a un usuario un nuevo método de pago a partir del idéntificador tokenizado de la tarjeta.</p>

<table><thead>
<tr>
<th>HTTP Request</th>
<th>Name Endpoint</th>
<th>Endpoint</th>
</tr>
</thead><tbody>
<tr>
<td>POST</td>
<td>SAVE_PAYMENT_METHOD</td>
<td>{{url}}/save-method-payment</td>
</tr>
</tbody></table>
<h3 id='header-3'>Header</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Descripción</th>
<th>Type</th>
<th>Obligación de envío</th>
</tr>
</thead><tbody>
<tr>
<td>Autorization</td>
<td>AccessToken obtenido al iniciar sesión</td>
<td>Bearer</td>
<td>Siempre</td>
</tr>
</tbody></table>
<h3 id='parametros-4'>Parámetros</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Descripción</th>
<th>Type</th>
<th>Obligación de envío</th>
</tr>
</thead><tbody>
<tr>
<td>token_id</td>
<td>Valor obtenido de tokenizar una tarjeta con el SDK de Conekta</td>
<td>String</td>
<td>Siempre</td>
</tr>
</tbody></table>
<h2 id='obtener-los-metodos-de-pago-de-un-usuario'>Obtener los métodos de pago de un usuario</h2>
<blockquote>
<p>Ejemplo:</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code><span class="cm">/* NO BODY */</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="c1">// Si el usuario no tiene métodos de pago asociados</span>
<span class="p">{</span>
  <span class="s">"success"</span><span class="p">:</span> <span class="m">1</span><span class="p">,</span>
  <span class="s">"message"</span><span class="p">:</span> <span class="s">"Sin métodos de pago asociados."</span><span class="p">,</span>
  <span class="s">"data"</span><span class="p">:</span> <span class="k">null</span>
<span class="p">}</span>
<span class="c1">// Si el usuario tiene al menos un método de pago asociado</span>
<span class="p">{</span>
  <span class="s">"success"</span><span class="p">:</span> <span class="m">1</span><span class="p">,</span>
  <span class="s">"message"</span><span class="p">:</span> <span class="k">null</span><span class="p">,</span>
  <span class="s">"data"</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="s">"id"</span><span class="p">:</span> <span class="s">"src_2kgcvqDqyLfd1MdtU"</span><span class="p">,</span>
      <span class="s">"object"</span><span class="p">:</span> <span class="s">"payment_source"</span><span class="p">,</span>
      <span class="s">"type"</span><span class="p">:</span> <span class="s">"card"</span><span class="p">,</span>
      <span class="s">"created_at"</span><span class="p">:</span> <span class="m">1558651182</span><span class="p">,</span>
      <span class="s">"last4"</span><span class="p">:</span> <span class="s">"5100"</span><span class="p">,</span>
      <span class="s">"bin"</span><span class="p">:</span> <span class="s">"510510"</span><span class="p">,</span>
      <span class="s">"exp_month"</span><span class="p">:</span> <span class="s">"12"</span><span class="p">,</span>
      <span class="s">"exp_year"</span><span class="p">:</span> <span class="s">"19"</span><span class="p">,</span>
      <span class="s">"brand"</span><span class="p">:</span> <span class="s">"VISA"</span><span class="p">,</span>
      <span class="s">"name"</span><span class="p">:</span> <span class="s">"Jorge Lopez"</span><span class="p">,</span>
      <span class="s">"parent_id"</span><span class="p">:</span> <span class="s">"cus_2kgcvqDqyLfd1MdtR"</span><span class="p">,</span>
      <span class="s">"default"</span><span class="p">:</span> <span class="k">true</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span> 
</code></pre><pre class="highlight java tab-java"><code><span class="o">{</span>
  <span class="s">"success"</span><span class="o">:</span> <span class="mi">0</span><span class="o">,</span>
  <span class="s">"message"</span><span class="o">:</span> <span class="s">"Unauthenticated"</span><span class="o">,</span>
  <span class="s">"data"</span><span class="o">:</span> <span class="o">[]</span>
<span class="o">}</span>
</code></pre>
<p>Obtiene los métodos de pago asociados a un usuario.</p>

<table><thead>
<tr>
<th>HTTP Request</th>
<th>Name Endpoint</th>
<th>Endpoint</th>
</tr>
</thead><tbody>
<tr>
<td>GET</td>
<td>GET_PAYMENT_METHODS</td>
<td>{{url}}/method-payment</td>
</tr>
</tbody></table>
<h3 id='header-4'>Header</h3>
<table><thead>
<tr>
<th>Key</th>
<th>Descripción</th>
<th>Type</th>
<th>Obligación de envío</th>
</tr>
</thead><tbody>
<tr>
<td>Autorization</td>
<td>AccessToken obtenido al iniciar sesión</td>
<td>Bearer</td>
<td>Siempre</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="javascript">Request</a>
                <a href="#" data-language-name="csharp">Success Response</a>
                <a href="#" data-language-name="java">Error Response</a>
          </div>
      </div>
    </div>
  </body>
</html>
